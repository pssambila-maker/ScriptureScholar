<!DOCTYPE html>
<html>
<head>
  <title>Generate PWA Icons</title>
  <style>
    body { font-family: system-ui; padding: 40px; background: #f1f5f9; }
    h1 { color: #1e293b; }
    .icons { display: flex; flex-wrap: wrap; gap: 20px; margin-top: 20px; }
    .icon-card { background: white; padding: 20px; border-radius: 12px; text-align: center; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    .icon-card img, .icon-card canvas { border: 1px solid #e2e8f0; border-radius: 8px; }
    .icon-card p { margin: 10px 0 0; font-size: 14px; color: #64748b; }
    button { background: #4f46e5; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; margin-top: 10px; }
    button:hover { background: #4338ca; }
    .instructions { background: #fef3c7; padding: 20px; border-radius: 12px; margin-bottom: 30px; }
  </style>
</head>
<body>
  <h1>Scripture Scholar PWA Icon Generator</h1>

  <div class="instructions">
    <h3>Instructions:</h3>
    <ol>
      <li>Click "Download" on each icon size below</li>
      <li>Save them to: <code>public/icons/</code> folder</li>
      <li>Name them exactly as shown (e.g., icon-192x192.png)</li>
    </ol>
  </div>

  <div class="icons" id="icons"></div>

  <script>
    const sizes = [72, 96, 128, 144, 152, 192, 384, 512];
    const container = document.getElementById('icons');

    // Load SVG
    fetch('public/icons/icon.svg')
      .then(r => r.text())
      .then(svgText => {
        const blob = new Blob([svgText], { type: 'image/svg+xml' });
        const url = URL.createObjectURL(blob);
        const img = new Image();

        img.onload = () => {
          sizes.forEach(size => {
            const card = document.createElement('div');
            card.className = 'icon-card';

            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d');
            ctx.drawImage(img, 0, 0, size, size);

            const p = document.createElement('p');
            p.textContent = `icon-${size}x${size}.png`;

            const btn = document.createElement('button');
            btn.textContent = 'Download';
            btn.onclick = () => {
              const link = document.createElement('a');
              link.download = `icon-${size}x${size}.png`;
              link.href = canvas.toDataURL('image/png');
              link.click();
            };

            card.appendChild(canvas);
            card.appendChild(p);
            card.appendChild(btn);
            container.appendChild(card);
          });
        };

        img.src = url;
      })
      .catch(err => {
        container.innerHTML = '<p style="color:red">Error loading SVG. Make sure to run this from the project root with a local server.</p>';
      });
  </script>
</body>
</html>
